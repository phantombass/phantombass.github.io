{
  "version": 3,
  "sources": ["../../../../data/mods/gen9legendsou/scripts.ts"],
  "sourcesContent": ["export const Scripts: ModdedBattleScriptsData = {\n\tgen: 9,\n\tinherit: 'gen9legends',\n\tinit() {\n\t\tconst legalItems = [\n\t\t\t'assaultvest', 'bigroot', 'blackbelt', 'blackglasses', 'charcoal', 'dragonfang', 'eviolite', 'expertbelt', 'fairyfeather',\n\t\t\t'focusband', 'focussash', 'hardstone', 'kingsrock', 'leftovers', 'lifeorb', 'lightball', 'magnet', 'metalcoat', 'miracleseed',\n\t\t\t'muscleband', 'mysticwater', 'nevermeltice', 'normalgem', 'poisonbarb', 'poweranklet', 'powerband', 'powerbelt', 'powerbracer',\n\t\t\t'powerlens', 'powerweight', 'quickclaw', 'rockyhelmet', 'scopelens', 'sharpbeak', 'shellbell', 'silkscarf', 'silverpowder',\n\t\t\t'softsand', 'spelltag', 'twistedspoon', 'weaknesspolicy', 'whiteherb', 'wiseglasses', 'bottlecap', 'goldbottlecap', 'dawnstone',\n\t\t\t'duskstone', 'firestone', 'galaricacuff', 'galaricawreath', 'icestone', 'leafstone', 'moonstone', 'sachet', 'shinystone',\n\t\t\t'sunstone', 'thunderstone', 'waterstone', 'whippeddream', 'bignugget', 'redorb', 'blueorb', 'leek', 'thickclub', 'upgrade',\n\t\t\t'dubiousdisc', 'prismscale', 'maliciousarmor', 'auspiciousarmor', 'poweranklet', 'powerband', 'powerbelt', 'powerbracer',\n\t\t\t'powerlens', 'powerweight', 'bignugget', 'bottlecap', 'goldbottlecap', 'prismscale', 'sachet', 'whippeddream',\n\t\t];\n\t\tconst legalBerries = [\n\t\t\t'aspearberry', 'babiriberry', 'chartiberry', 'cheriberry', 'chestoberry', 'chilanberry', 'chopleberry', 'cobaberry', 'colburberry',\n\t\t\t'grepaberry', 'habanberry', 'hondewberry', 'kasibberry', 'kebiaberry', 'kelpsyberry', 'lumberry', 'occaberry', 'oranberry', 'passhoberry',\n\t\t\t'payapaberry', 'pechaberry', 'persimberry', 'pomegberry', 'qualotberry', 'rawstberry', 'rindoberry', 'roseliberry', 'shucaberry',\n\t\t\t'sitrusberry', 'tamatoberry', 'tangaberry', 'wacanberry', 'yacheberry',\n\t\t];\n\t\tconst votedLegalitems = [\n\t\t\t'heavydutyboots', 'choiceband', 'choicescarf', 'choicespecs', 'airballoon', 'loadeddice', 'mentalherb', 'powerherb', 'mirrorherb',\n\t\t\t'aguavberry', 'apicotberry', 'custapberry', 'enigmaberry', 'figyberry', 'ganlonberry', 'iapapaberry', 'jabocaberry', 'keeberry',\n\t\t\t'lansatberry', 'leppaberry', 'liechiberry', 'magoberry', 'marangaberry', 'micleberry', 'petayaberry', 'rowapberry', 'salacberry',\n\t\t\t'starfberry', 'wikiberry', 'abilityshield', 'blunderpolicy', 'blacksludge', 'lightclay', 'brightpowder', 'adrenalineorb', 'absorbbulb',\n\t\t\t'clearamulet', 'covertcloak', 'damprock', 'heatrock', 'icyrock', 'smoothrock', 'electricseed', 'mistyseed', 'psychicseed', 'grassyseed',\n\t\t\t'flameorb', 'toxicorb', 'gripclaw', 'laggingtail', 'metronome', 'protectivepads', 'punchingglove', 'razorclaw', 'razorfang', 'roomservice',\n\t\t\t'safetygoggles', 'shellbell', 'shedshell', 'stickybarb', 'terrainextender', 'throatspray', 'utilityumbrella', 'zoomlens', 'bindingband',\n\t\t\t'destinyknot', 'floatstone', 'ironball', 'machobrace', 'ringtarget', 'redcard', 'ejectpack', 'ejectbutton', 'souldew', 'cellbattery',\n\t\t\t'luminousmoss', 'oddincense', 'roseincense', 'seaincense', 'waveincense', 'snowball',\n\t\t];\n\t\tfor (const i in this.data.Items) {\n\t\t\tif (this.data.Items[i].isNonstandard === 'CAP' || this.data.Items[i].isNonstandard === 'Custom') continue;\n\t\t\tif ([...legalItems, ...votedLegalitems, ...legalBerries].includes(i) ||\n\t\t\t\tthis.data.Items[i].megaStone || this.data.Items[i].onDrive ||\n\t\t\t\t(this.data.Items[i].onPlate && !this.data.Items[i].zMove)) {\n\t\t\t\tthis.modData('Items', i).isNonstandard = null;\n\t\t\t} else {\n\t\t\t\tthis.modData('Items', i).isNonstandard = 'Past';\n\t\t\t}\n\t\t}\n\t\tfor (const i in this.data.Moves) {\n\t\t\tif (this.data.Moves[i].isNonstandard !== 'Past') continue;\n\t\t\tthis.modData('Moves', i).isNonstandard = null;\n\t\t}\n\t},\n\tactions: {\n\t\tcanMegaEvo(pokemon) {\n\t\t\tconst species = pokemon.baseSpecies;\n\t\t\tconst altForme = species.otherFormes && this.dex.species.get(species.otherFormes[0]);\n\t\t\tconst item = pokemon.getItem();\n\t\t\t// Mega Rayquaza\n\t\t\tif ((this.battle.gen <= 7 || this.battle.ruleTable.has('+pokemontag:past') ||\n\t\t\t\tthis.battle.ruleTable.has('+pokemontag:future')) &&\n\t\t\t\taltForme?.isMega && altForme?.requiredMove &&\n\t\t\t\tpokemon.baseMoves.includes(this.battle.toID(altForme.requiredMove)) && !item.zMove) {\n\t\t\t\treturn altForme.name;\n\t\t\t}\n\t\t\tif (!item.megaStone) return null;\n\t\t\treturn item.megaStone[species.name];\n\t\t},\n\t\trunMegaEvo(pokemon) {\n\t\t\tconst speciesid = pokemon.canMegaEvo || pokemon.canUltraBurst;\n\t\t\tif (!speciesid) return false;\n\n\t\t\tpokemon.formeChange(speciesid, pokemon.getItem(), true);\n\n\t\t\t// Limit one mega evolution\n\t\t\tconst wasMega = pokemon.canMegaEvo;\n\t\t\tfor (const ally of pokemon.side.pokemon) {\n\t\t\t\tif (wasMega) {\n\t\t\t\t\tally.canMegaEvo = false;\n\t\t\t\t} else {\n\t\t\t\t\tally.canUltraBurst = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// will finish coding this later, not important since zygarde is banned\n\t\t\tif (speciesid === 'Zygarde-Mega') {\n\t\t\t\tconst coreEnforcer = pokemon.moveSlots.findIndex(x => x.id === 'coreenforcer');\n\t\t\t\tif (coreEnforcer >= 0) {\n\t\t\t\t\tconst nihilLight = this.battle.dex.moves.get('nihillight');\n\t\t\t\t\tpokemon.moveSlots[coreEnforcer] = pokemon.baseMoveSlots[coreEnforcer] = {\n\t\t\t\t\t\tid: nihilLight.id,\n\t\t\t\t\t\tmove: nihilLight.name,\n\t\t\t\t\t\tpp: pokemon.moveSlots[coreEnforcer].pp,\n\t\t\t\t\t\tmaxpp: pokemon.moveSlots[coreEnforcer].maxpp,\n\t\t\t\t\t\tdisabled: false,\n\t\t\t\t\t\tused: false,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.battle.runEvent('AfterMega', pokemon);\n\t\t\treturn true;\n\t\t},\n\t},\n};\n"],
  "mappings": "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",
  "names": []
}
