{
  "version": 3,
  "sources": ["../../../../data/mods/biomechmons/scripts.ts"],
  "sourcesContent": ["import { RESTORATIVE_BERRIES } from \"../../../sim/pokemon\";\n\nexport const Scripts: ModdedBattleScriptsData = {\n\tpokemon: {\n\t\tisGrounded(negateImmunity) {\n\t\t\tif ('gravity' in this.battle.field.pseudoWeather) return true;\n\t\t\tif ('ingrain' in this.volatiles && this.battle.gen >= 4) return true;\n\t\t\tif ('smackdown' in this.volatiles) return true;\n\t\t\tconst item = (this.ignoringItem() ? '' : this.item);\n\t\t\tif (item === 'ironball' || (this.volatiles['item:ironball'] && !this.ignoringItem())) return true;\n\t\t\t// If a Fire/Flying type uses Burn Up and Roost, it becomes ???/Flying-type, but it's still grounded.\n\t\t\tif (!negateImmunity && this.hasType('Flying') && !(this.hasType('???') && 'roost' in this.volatiles)) return false;\n\t\t\tif (this.hasAbility('levitate') && !this.battle.suppressingAbility(this)) return null;\n\t\t\tif ('magnetrise' in this.volatiles) return false;\n\t\t\tif ('telekinesis' in this.volatiles) return false;\n\t\t\tif (item === 'airballoon' || (this.volatiles['item:airballoon'] && !this.ignoringItem())) return false;\n\t\t\treturn true;\n\t\t},\n\t\tgetAbility() {\n\t\t\tconst ability = this.battle.dex.abilities.getByID(this.ability);\n\t\t\tif (ability.exists) return ability;\n\t\t\tlet abil = this.battle.dex.items.getByID(this.ability) as Item | Move;\n\t\t\tif (!abil.exists) abil = this.battle.dex.moves.getByID(this.ability);\n\t\t\treturn {\n\t\t\t\tid: this.ability,\n\t\t\t\tname: abil.name || this.ability,\n\t\t\t\tflags: {},\n\t\t\t\teffectType: \"Ability\",\n\t\t\t\ttoString() {\n\t\t\t\t\treturn abil.name || this.id;\n\t\t\t\t},\n\t\t\t} as Ability;\n\t\t},\n\t\thasAbility(ability) {\n\t\t\tif (this.ignoringAbility()) return false;\n\t\t\tif (Array.isArray(ability)) return ability.some(abil => this.hasAbility(abil));\n\t\t\tconst abilityid = this.battle.toID(ability);\n\t\t\treturn this.ability === abilityid || !!this.volatiles['ability:' + abilityid];\n\t\t},\n\t\tignoringAbility() {\n\t\t\t// Check if any active pokemon have the ability Neutralizing Gas\n\t\t\tlet neutralizinggas = false;\n\t\t\tfor (const pokemon of this.battle.getAllActive()) {\n\t\t\t\t// can't use hasAbility because it would lead to infinite recursion\n\t\t\t\tif (\n\t\t\t\t\t(pokemon.ability === ('neutralizinggas' as ID) ||\n\t\t\t\t\t\t(pokemon.m.scrambled.abilities as { thing: string }[]).some(\n\t\t\t\t\t\t\tabils => this.battle.toID(abils.thing) === 'neutralizinggas')) &&\n\t\t\t\t\t\t\t!pokemon.volatiles['gastroacid'] && !pokemon.abilityState.ending\n\t\t\t\t) {\n\t\t\t\t\tneutralizinggas = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn !!(\n\t\t\t\t(this.battle.gen >= 5 && !this.isActive) ||\n\t\t\t\t((this.volatiles['gastroacid'] ||\n\t\t\t\t\t(neutralizinggas && (this.ability !== ('neutralizinggas' as ID) ||\n\t\t\t\t\t\t(this.m.scrambled.abilities as { thing: string }[]).some(abils => this.battle.toID(abils.thing) === 'neutralizinggas'))\n\t\t\t\t\t)) && !this.getAbility().flags['cantsuppress']\n\t\t\t\t)\n\t\t\t);\n\t\t},\n\t\tsetAbility(ability, source, sourceEffect, isFromFormeChange = false, isTransform = false) {\n\t\t\tconst allThings = new Set([\n\t\t\t\t...(this.m.scrambled.abilities as { thing: string }[]).map(e => e.thing),\n\t\t\t\t...(this.m.scrambled.items as { thing: string }[]).map(e => e.thing),\n\t\t\t\t...(this.m.scrambled.moves as { thing: string }[]).map(e => e.thing),\n\t\t\t\tthis.ability, ...this.moveSlots.map(e => e.move), this.item,\n\t\t\t].map(this.battle.toID));\n\n\t\t\tlet isBMMAbil = false;\n\t\t\tlet isOldBMMAbil = false;\n\t\t\tif (!this.hp) return false;\n\t\t\tif (typeof ability === 'string') {\n\t\t\t\tif (this.battle.dex.abilities.get(ability).exists) {\n\t\t\t\t\tability = this.battle.dex.abilities.get(ability);\n\t\t\t\t} else {\n\t\t\t\t\tconst abilString = ability;\n\t\t\t\t\tlet abil = this.battle.dex.items.get(abilString) as Item | Move;\n\t\t\t\t\tif (!abil.exists) abil = this.battle.dex.moves.get(abilString);\n\t\t\t\t\tability = {\n\t\t\t\t\t\tid: abil.id || abilString,\n\t\t\t\t\t\tname: abil.name || abilString,\n\t\t\t\t\t\tflags: {},\n\t\t\t\t\t\teffectType: \"Ability\",\n\t\t\t\t\t\ttoString() {\n\t\t\t\t\t\t\treturn abil.name || abilString;\n\t\t\t\t\t\t},\n\t\t\t\t\t} as Ability;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (ability.name.length && !this.battle.dex.abilities.get(ability).exists) isBMMAbil = true;\n\t\t\tif (!sourceEffect && this.battle.effect) sourceEffect = this.battle.effect;\n\t\t\tlet oldAbility;\n\t\t\tif (this.battle.dex.abilities.get(this.ability).exists) {\n\t\t\t\toldAbility = this.battle.dex.abilities.get(this.ability);\n\t\t\t} else {\n\t\t\t\tlet abil = this.battle.dex.items.getByID(this.ability) as Item | Move;\n\t\t\t\tif (!abil.exists) {\n\t\t\t\t\tabil = this.battle.dex.moves.getByID(this.ability);\n\t\t\t\t} else {\n\t\t\t\t\tif (!this.battle.runEvent('TakeItem', this, source, null, abil as Item)) return false;\n\t\t\t\t}\n\t\t\t\toldAbility = {\n\t\t\t\t\tid: this.ability,\n\t\t\t\t\tname: abil.name || this.ability,\n\t\t\t\t\tflags: {},\n\t\t\t\t\teffectType: \"Ability\",\n\t\t\t\t\ttoString() {\n\t\t\t\t\t\treturn abil.name || this.id;\n\t\t\t\t\t},\n\t\t\t\t} as Ability;\n\t\t\t\tisOldBMMAbil = true;\n\t\t\t}\n\n\t\t\tif (allThings.has(ability.id)) return false;\n\n\t\t\tif (!isFromFormeChange) {\n\t\t\t\tif (ability.flags['cantsuppress'] || this.getAbility().flags['cantsuppress']) return false;\n\t\t\t}\n\t\t\tif (!isFromFormeChange && !isTransform) {\n\t\t\t\tconst setAbilityEvent: boolean | null = this.battle.runEvent('SetAbility', this, source, sourceEffect, ability);\n\t\t\t\tif (!setAbilityEvent) return setAbilityEvent;\n\t\t\t}\n\t\t\tthis.battle.singleEvent('End', oldAbility, this.abilityState, this, source);\n\t\t\tif (isOldBMMAbil) {\n\t\t\t\tconst isItem = (this.m.scrambled.items as { inSlot: string }[]).findIndex(e => e.inSlot === 'Ability');\n\t\t\t\tif (isItem >= 0) {\n\t\t\t\t\tthis.removeVolatile('item:' + this.battle.toID(this.m.scrambled.items[isItem].thing));\n\t\t\t\t\tthis.m.scrambled.items.splice(isItem, 1);\n\t\t\t\t} else if ((this.m.scrambled.moves as { inSlot: string }[]).findIndex(e => e.inSlot === 'Ability') >= 0) {\n\t\t\t\t\tconst isMove = (this.m.scrambled.moves as { inSlot: string }[]).findIndex(e => e.inSlot === 'Ability');\n\t\t\t\t\tif (!isTransform) {\n\t\t\t\t\t\tlet indexOfMove = this.baseMoveSlots.findIndex(m => this.battle.toID(this.m.scrambled.moves[isMove].thing) === m.id);\n\t\t\t\t\t\tif (indexOfMove >= 0) this.baseMoveSlots.splice(indexOfMove, 1);\n\t\t\t\t\t\tif (oldAbility.id !== 'mimic') {\n\t\t\t\t\t\t\tindexOfMove = this.moveSlots.findIndex(m => this.battle.toID(this.m.scrambled.moves[isMove].thing) === m.id);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (indexOfMove >= 0) this.moveSlots.splice(indexOfMove, 1);\n\t\t\t\t\t}\n\t\t\t\t\tthis.m.scrambled.moves.splice(isMove, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.ability = ability.id;\n\t\t\t// ability changes are permanent in BioMechMons\n\t\t\tif (!isTransform && !this.transformed) this.baseAbility = ability.id;\n\t\t\tthis.abilityState = this.battle.initEffectState({ id: ability.id, target: this });\n\t\t\tif (sourceEffect && !isFromFormeChange && !isTransform) {\n\t\t\t\tif (source) {\n\t\t\t\t\tthis.battle.add('-ability', this, ability.name, oldAbility.name, `[from] ${sourceEffect.fullname}`, `[of] ${source}`);\n\t\t\t\t} else {\n\t\t\t\t\tthis.battle.add('-ability', this, ability.name, oldAbility.name, `[from] ${sourceEffect.fullname}`);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (ability.id && this.battle.gen > 3 &&\n\t\t\t\t(!isTransform || oldAbility.id !== ability.id || this.battle.gen <= 4)) {\n\t\t\t\tthis.battle.singleEvent('Start', ability, this.abilityState, this, source);\n\t\t\t}\n\t\t\tif (isBMMAbil) {\n\t\t\t\tif (this.battle.dex.items.get(ability.id).exists) {\n\t\t\t\t\tthis.m.scrambled.items.push({ thing: ability.id, inSlot: 'Ability' });\n\t\t\t\t\tconst effect = 'item:' + this.battle.toID(ability.id);\n\t\t\t\t\tthis.addVolatile(effect);\n\t\t\t\t\tthis.volatiles[effect].inSlot = 'Ability';\n\t\t\t\t} else {\n\t\t\t\t\tthis.m.scrambled.moves.push({ thing: ability.id, inSlot: 'Ability' });\n\t\t\t\t\tconst move = Dex.moves.get(ability.id);\n\t\t\t\t\tconst newMove = {\n\t\t\t\t\t\tmove: move.name,\n\t\t\t\t\t\tid: move.id,\n\t\t\t\t\t\tpp: move.noPPBoosts ? move.pp : move.pp * 8 / 5,\n\t\t\t\t\t\tmaxpp: move.noPPBoosts ? move.pp : move.pp * 8 / 5,\n\t\t\t\t\t\ttarget: move.target,\n\t\t\t\t\t\tdisabled: false,\n\t\t\t\t\t\tused: false,\n\t\t\t\t\t};\n\t\t\t\t\tif (!isTransform) {\n\t\t\t\t\t\tthis.baseMoveSlots.push(newMove);\n\t\t\t\t\t\tthis.moveSlots.push(newMove);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn oldAbility.id;\n\t\t},\n\t\tgetItem() {\n\t\t\tconst item = this.battle.dex.items.getByID(this.item);\n\t\t\tif (item.exists) return item;\n\t\t\tlet bmmItem = this.battle.dex.abilities.getByID(this.item) as Ability | Move;\n\t\t\tif (!bmmItem.exists) bmmItem = this.battle.dex.moves.getByID(this.item);\n\t\t\treturn {\n\t\t\t\tid: this.item,\n\t\t\t\tname: bmmItem.name || this.name,\n\t\t\t\teffectType: \"Item\",\n\t\t\t\ttoString() {\n\t\t\t\t\treturn bmmItem.name || this.id;\n\t\t\t\t},\n\t\t\t} as Item;\n\t\t},\n\t\thasItem(item) {\n\t\t\tif (this.ignoringItem()) return false;\n\t\t\tif (Array.isArray(item)) return item.some(i => this.hasItem(i));\n\t\t\tconst itemId = this.battle.toID(item);\n\t\t\treturn this.item === itemId || !!this.volatiles['item:' + itemId];\n\t\t},\n\t\ttakeItem(source) {\n\t\t\tif (!this.item) return false;\n\t\t\tif (!source) source = this;\n\t\t\tif (this.battle.gen <= 4) {\n\t\t\t\tif (source.itemKnockedOff) return false;\n\t\t\t\tif (this.battle.toID(this.ability) === 'multitype' || (this.m.scrambled.abilities as { thing: string }[])\n\t\t\t\t\t.findIndex(e => this.battle.toID(e.thing) === 'multitype') >= 0) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (this.battle.toID(source.ability) === 'multitype' || (source.m.scrambled.abilities as { thing: string }[])\n\t\t\t\t\t.findIndex(e => this.battle.toID(e.thing) === 'multitype') >= 0) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst item = this.getItem();\n\t\t\tif (this.battle.runEvent('TakeItem', this, source, null, item)) {\n\t\t\t\tthis.item = '';\n\t\t\t\tlet wrongSlot = (this.m.scrambled.abilities as { inSlot: string }[]).findIndex(e => e.inSlot === 'Item');\n\t\t\t\tif (wrongSlot >= 0) {\n\t\t\t\t\tconst dexAbil = this.battle.dex.abilities.get(this.m.scrambled.abilities[wrongSlot].thing);\n\t\t\t\t\tif (dexAbil.flags['failskillswap']) return false;\n\t\t\t\t\tthis.removeVolatile('ability:' + this.battle.toID(this.m.scrambled.abilities[wrongSlot].thing));\n\t\t\t\t\tthis.m.scrambled.abilities.splice(wrongSlot, 1);\n\t\t\t\t} else if ((this.m.scrambled.moves as { inSlot: string }[]).findIndex(e => e.inSlot === 'Item') >= 0) {\n\t\t\t\t\twrongSlot = (this.m.scrambled.moves as { inSlot: string }[]).findIndex(e => e.inSlot === 'Item');\n\t\t\t\t\tlet indexOfMove = this.baseMoveSlots.findIndex(m => this.battle.toID(this.m.scrambled.moves[wrongSlot].thing) === m.id);\n\t\t\t\t\tif (indexOfMove >= 0) this.baseMoveSlots.splice(indexOfMove, 1);\n\t\t\t\t\tif (item.id !== 'mimic') {\n\t\t\t\t\t\tindexOfMove = this.moveSlots.findIndex(m => this.battle.toID(this.m.scrambled.moves[wrongSlot].thing) === m.id);\n\t\t\t\t\t}\n\t\t\t\t\tif (indexOfMove >= 0) this.moveSlots.splice(indexOfMove, 1);\n\t\t\t\t\tthis.m.scrambled.moves.splice(wrongSlot, 1);\n\t\t\t\t}\n\t\t\t\tconst oldItemState = this.itemState;\n\t\t\t\tthis.battle.clearEffectState(this.itemState);\n\t\t\t\tthis.pendingStaleness = undefined;\n\t\t\t\tthis.battle.singleEvent('End', item, oldItemState, this);\n\t\t\t\tthis.battle.runEvent('AfterTakeItem', this, null, null, item);\n\t\t\t\treturn item;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tsetItem(item, source, effect) {\n\t\t\tconst allThings = new Set([\n\t\t\t\t...(this.m.scrambled.abilities as { thing: string }[]).map(e => e.thing),\n\t\t\t\t...(this.m.scrambled.items as { thing: string }[]).map(e => e.thing),\n\t\t\t\t...(this.m.scrambled.moves as { thing: string }[]).map(e => e.thing),\n\t\t\t\tthis.ability, ...this.moveSlots.map(e => e.move), this.item,\n\t\t\t].map(this.battle.toID));\n\n\t\t\tlet isBMMItem = false;\n\t\t\tlet isOldBMMItem = false;\n\t\t\tif (!this.hp || !this.isActive) return false;\n\t\t\tif (typeof item === 'string') {\n\t\t\t\tif (!item.length || this.battle.dex.items.get(item).exists) {\n\t\t\t\t\titem = this.battle.dex.items.get(item);\n\t\t\t\t} else {\n\t\t\t\t\tconst itemString = item;\n\t\t\t\t\tlet newData = this.battle.dex.abilities.get(itemString) as Ability | Move;\n\t\t\t\t\tif (!newData.exists) {\n\t\t\t\t\t\tnewData = this.battle.dex.moves.get(itemString);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif ((newData as Ability).flags['failskillswap']) return false;\n\t\t\t\t\t}\n\t\t\t\t\titem = {\n\t\t\t\t\t\tid: newData.id || itemString,\n\t\t\t\t\t\tname: newData.name || itemString,\n\t\t\t\t\t\teffectType: \"Item\",\n\t\t\t\t\t\ttoString() {\n\t\t\t\t\t\t\treturn newData.name || itemString;\n\t\t\t\t\t\t},\n\t\t\t\t\t} as Item;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (item.name.length && !this.battle.dex.items.get(item).exists) isBMMItem = true;\n\t\t\tif (allThings.has(item.id)) return false;\n\t\t\tconst effectid = this.battle.effect ? this.battle.effect.id : '';\n\t\t\tif (RESTORATIVE_BERRIES.has('leppaberry' as ID)) {\n\t\t\t\tconst inflicted = ['trick', 'switcheroo'].includes(effectid);\n\t\t\t\tconst external = inflicted && source && !source.isAlly(this);\n\t\t\t\tthis.pendingStaleness = external ? 'external' : 'internal';\n\t\t\t} else {\n\t\t\t\tthis.pendingStaleness = undefined;\n\t\t\t}\n\t\t\tconst oldItem = this.getItem();\n\t\t\tif (!this.battle.dex.items.get(oldItem).exists) isOldBMMItem = true;\n\t\t\tconst oldItemState = this.itemState;\n\t\t\tthis.item = item.id;\n\t\t\tthis.itemState = this.battle.initEffectState({ id: item.id, target: this });\n\t\t\tif (oldItem.exists) this.battle.singleEvent('End', oldItem, oldItemState, this);\n\t\t\tif (isOldBMMItem) {\n\t\t\t\tconst isAbil = (this.m.scrambled.abilities as { inSlot: string }[]).findIndex(e => e.inSlot === 'Item');\n\t\t\t\tif (isAbil >= 0) {\n\t\t\t\t\tthis.removeVolatile('ability:' + this.battle.toID(this.m.scrambled.items[isAbil].thing));\n\t\t\t\t\tthis.m.scrambled.abilities.splice(isAbil, 1);\n\t\t\t\t} else if ((this.m.scrambled.moves as { inSlot: string }[]).findIndex(e => e.inSlot === 'Item') >= 0) {\n\t\t\t\t\tconst isMove = (this.m.scrambled.moves as { inSlot: string }[]).findIndex(e => e.inSlot === 'Item');\n\t\t\t\t\tlet indexOfMove = this.baseMoveSlots.findIndex(m => this.battle.toID(this.m.scrambled.moves[isMove].thing) === m.id);\n\t\t\t\t\tif (indexOfMove >= 0) this.baseMoveSlots.splice(indexOfMove, 1);\n\t\t\t\t\tif (oldItem.id !== 'mimic') {\n\t\t\t\t\t\tindexOfMove = this.moveSlots.findIndex(m => this.battle.toID(this.m.scrambled.moves[isMove].thing) === m.id);\n\t\t\t\t\t}\n\t\t\t\t\tif (indexOfMove >= 0) this.moveSlots.splice(indexOfMove, 1);\n\t\t\t\t\tthis.m.scrambled.moves.splice(isMove, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (item.id) {\n\t\t\t\tthis.battle.singleEvent('Start', item, this.itemState, this, source, effect);\n\t\t\t}\n\t\t\tif (isBMMItem) {\n\t\t\t\tif (this.battle.dex.abilities.get(item.id).exists) {\n\t\t\t\t\tthis.m.scrambled.abilities.push({ thing: item.id, inSlot: 'Item' });\n\t\t\t\t\tconst abileffect = 'ability:' + this.battle.toID(item.id);\n\t\t\t\t\tthis.addVolatile(abileffect);\n\t\t\t\t\tthis.volatiles[abileffect].inSlot = 'Item';\n\t\t\t\t} else {\n\t\t\t\t\tthis.m.scrambled.moves.push({ thing: item.id, inSlot: 'Item' });\n\t\t\t\t\tconst move = Dex.moves.get(item.id);\n\t\t\t\t\tconst newMove = {\n\t\t\t\t\t\tmove: move.name,\n\t\t\t\t\t\tid: move.id,\n\t\t\t\t\t\tpp: move.noPPBoosts ? move.pp : move.pp * 8 / 5,\n\t\t\t\t\t\tmaxpp: move.noPPBoosts ? move.pp : move.pp * 8 / 5,\n\t\t\t\t\t\ttarget: move.target,\n\t\t\t\t\t\tdisabled: false,\n\t\t\t\t\t\tused: false,\n\t\t\t\t\t};\n\t\t\t\t\tthis.baseMoveSlots.push(newMove);\n\t\t\t\t\tthis.moveSlots.push(newMove);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\teatItem(force, source, sourceEffect) {\n\t\t\tconst item = sourceEffect?.effectType === 'Item' ? sourceEffect :\n\t\t\t\tthis.battle.effect.effectType === 'Item' ? this.battle.effect : this.getItem();\n\t\t\tif (!item) return false;\n\t\t\tif ((!this.hp && this.battle.toID(item.name) !== 'jabocaberry' && this.battle.toID(item.name) !== 'rowapberry') ||\n\t\t\t\t!this.isActive) return false;\n\n\t\t\tif (!sourceEffect && this.battle.effect) sourceEffect = this.battle.effect;\n\t\t\tif (!source && this.battle.event?.target) source = this.battle.event.target;\n\t\t\t// if (sourceEffect?.effectType === 'Item' && this.item !== sourceEffect.id && source === this) {\n\t\t\t// \t// if an item is telling us to eat it but we aren't holding it, we probably shouldn't eat what we are holding\n\t\t\t// \treturn false;\n\t\t\t// }\n\t\t\tif (\n\t\t\t\tthis.battle.runEvent('UseItem', this, null, null, Dex.items.get(item.name)) &&\n\t\t\t\t(force || this.battle.runEvent('TryEatItem', this, null, null, Dex.items.get(item.name)))\n\t\t\t) {\n\t\t\t\tthis.battle.add('-enditem', this, Dex.items.get(item.name), '[eat]');\n\n\t\t\t\tthis.battle.singleEvent('Eat', Dex.items.get(item.name), this.itemState, this, source, sourceEffect);\n\t\t\t\tthis.battle.runEvent('EatItem', this, source, sourceEffect, Dex.items.get(item.name));\n\n\t\t\t\tif (RESTORATIVE_BERRIES.has(item.id)) {\n\t\t\t\t\tswitch (this.pendingStaleness) {\n\t\t\t\t\tcase 'internal':\n\t\t\t\t\t\tif (this.staleness !== 'external') this.staleness = 'internal';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'external':\n\t\t\t\t\t\tthis.staleness = 'external';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tthis.pendingStaleness = undefined;\n\t\t\t\t}\n\n\t\t\t\tconst isBMM = this.volatiles[item.id]?.inSlot;\n\t\t\t\tif (isBMM) {\n\t\t\t\t\tconst dexItem = this.battle.dex.items.get(item.name);\n\t\t\t\t\tthis.removeVolatile(item.id);\n\t\t\t\t\tconst itemIndex = (this.m.scrambled.items as { thing: string, inSlot: string }[]).findIndex(e =>\n\t\t\t\t\t\tthis.battle.toID(e.thing) === dexItem.id && e.inSlot === isBMM);\n\t\t\t\t\tif (itemIndex >= 0) this.m.scrambled.items.splice(itemIndex, 1);\n\t\t\t\t\tif (isBMM === 'Ability') this.setAbility('No Ability');\n\t\t\t\t} else {\n\t\t\t\t\tthis.lastItem = this.item;\n\t\t\t\t\tthis.item = '';\n\t\t\t\t}\n\t\t\t\tthis.battle.clearEffectState(this.itemState);\n\t\t\t\tthis.usedItemThisTurn = true;\n\t\t\t\tthis.ateBerry = true;\n\t\t\t\tthis.battle.runEvent('AfterUseItem', this, null, null, Dex.items.get(item.name));\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\tuseItem(source, sourceEffect) {\n\t\t\tconst item = sourceEffect?.effectType === 'Item' ? sourceEffect :\n\t\t\t\tthis.battle.effect.effectType === 'Item' ? this.battle.effect : this.getItem();\n\t\t\tif ((!this.hp && !item.isGem) || !this.isActive) return false;\n\t\t\tif (!item) return false;\n\n\t\t\tif (!sourceEffect && this.battle.effect) sourceEffect = this.battle.effect;\n\t\t\tif (!source && this.battle.event?.target) source = this.battle.event.target;\n\t\t\t// const item = this.getItem();\n\t\t\t// if (sourceEffect?.effectType === 'Item' && this.item !== sourceEffect.id && source === this) {\n\t\t\t// \t// if an item is telling us to eat it but we aren't holding it, we probably shouldn't eat what we are holding\n\t\t\t// \treturn false;\n\t\t\t// }\n\t\t\tif (this.battle.runEvent('UseItem', this, null, null, Dex.items.get(item.name))) {\n\t\t\t\tswitch (item.id) {\n\t\t\t\tcase 'redcard':\n\t\t\t\t\tthis.battle.add('-enditem', this, Dex.items.get(item.name), `[of] ${source}`);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tif (item.isGem) {\n\t\t\t\t\t\tthis.battle.add('-enditem', this, Dex.items.get(item.name), '[from] gem');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.battle.add('-enditem', this, Dex.items.get(item.name));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (item.boosts) {\n\t\t\t\t\tthis.battle.boost(item.boosts, this, source, Dex.items.get(item.name));\n\t\t\t\t}\n\n\t\t\t\tthis.battle.singleEvent('Use', Dex.items.get(item.name), this.itemState, this, source, sourceEffect);\n\n\t\t\t\tconst isBMM = this.volatiles[item.id]?.inSlot;\n\t\t\t\tif (isBMM) {\n\t\t\t\t\tconst dexItem = this.battle.dex.items.get(item.name);\n\t\t\t\t\tthis.removeVolatile(item.id);\n\t\t\t\t\tconst itemIndex = (this.m.scrambled.items as { thing: string, inSlot: string }[]).findIndex(e =>\n\t\t\t\t\t\tthis.battle.toID(e.thing) === dexItem.id && e.inSlot === isBMM);\n\t\t\t\t\tif (itemIndex >= 0) this.m.scrambled.items.splice(itemIndex, 1);\n\t\t\t\t\tif (isBMM === 'Ability') this.setAbility('No Ability');\n\t\t\t\t} else {\n\t\t\t\t\tthis.lastItem = this.item;\n\t\t\t\t\tthis.item = '';\n\t\t\t\t}\n\t\t\t\tthis.battle.clearEffectState(this.itemState);\n\t\t\t\tthis.usedItemThisTurn = true;\n\t\t\t\tthis.battle.runEvent('AfterUseItem', this, null, null, item);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\ttransformInto(pokemon, effect) {\n\t\t\tconst species = pokemon.species;\n\t\t\tif (\n\t\t\t\tpokemon.fainted || this.illusion || pokemon.illusion || (pokemon.volatiles['substitute'] && this.battle.gen >= 5) ||\n\t\t\t\t(pokemon.transformed && this.battle.gen >= 2) || (this.transformed && this.battle.gen >= 5) ||\n\t\t\t\tspecies.name === 'Eternatus-Eternamax' ||\n\t\t\t\t(['Ogerpon', 'Terapagos'].includes(species.baseSpecies) && (this.terastallized || pokemon.terastallized)) ||\n\t\t\t\tthis.terastallized === 'Stellar'\n\t\t\t) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (this.battle.dex.currentMod === 'gen1stadium' && (\n\t\t\t\tspecies.name === 'Ditto' ||\n\t\t\t\t(this.species.name === 'Ditto' && pokemon.moves.includes('transform'))\n\t\t\t)) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (!this.setSpecies(species, effect, true)) return false;\n\n\t\t\tthis.transformed = true;\n\t\t\tthis.weighthg = pokemon.weighthg;\n\n\t\t\tconst types = pokemon.getTypes(true, true);\n\t\t\tthis.setType(pokemon.volatiles['roost'] ? pokemon.volatiles['roost'].typeWas : types, true);\n\t\t\tthis.addedType = pokemon.addedType;\n\t\t\tthis.knownType = this.isAlly(pokemon) && pokemon.knownType;\n\t\t\tthis.apparentType = pokemon.apparentType;\n\n\t\t\tlet statName: StatIDExceptHP;\n\t\t\tfor (statName in this.storedStats) {\n\t\t\t\tthis.storedStats[statName] = pokemon.storedStats[statName];\n\t\t\t\tif (this.modifiedStats) this.modifiedStats[statName] = pokemon.modifiedStats![statName]; // Gen 1: Copy modified stats.\n\t\t\t}\n\t\t\tthis.moveSlots = [];\n\t\t\tthis.hpType = (this.battle.gen >= 5 ? this.hpType : pokemon.hpType);\n\t\t\tthis.hpPower = (this.battle.gen >= 5 ? this.hpPower : pokemon.hpPower);\n\t\t\tthis.timesAttacked = pokemon.timesAttacked;\n\t\t\tfor (const moveSlot of pokemon.moveSlots) {\n\t\t\t\tlet moveName = moveSlot.move;\n\t\t\t\tif (moveSlot.id === 'hiddenpower') {\n\t\t\t\t\tmoveName = 'Hidden Power ' + this.hpType;\n\t\t\t\t}\n\t\t\t\tthis.moveSlots.push({\n\t\t\t\t\tmove: moveName,\n\t\t\t\t\tid: moveSlot.id,\n\t\t\t\t\tpp: moveSlot.maxpp === 1 ? 1 : 5,\n\t\t\t\t\tmaxpp: this.battle.gen >= 5 ? (moveSlot.maxpp === 1 ? 1 : 5) : moveSlot.maxpp,\n\t\t\t\t\ttarget: moveSlot.target,\n\t\t\t\t\tdisabled: false,\n\t\t\t\t\tused: false,\n\t\t\t\t\tvirtual: true,\n\t\t\t\t});\n\t\t\t}\n\t\t\tlet boostName: BoostID;\n\t\t\tfor (boostName in pokemon.boosts) {\n\t\t\t\tthis.boosts[boostName] = pokemon.boosts[boostName];\n\t\t\t}\n\t\t\tif (this.battle.gen >= 6) {\n\t\t\t\t// we need to remove all of the overlapping crit volatiles before adding any of them\n\t\t\t\tconst volatilesToCopy = ['dragoncheer', 'focusenergy', 'gmaxchistrike', 'laserfocus'];\n\t\t\t\tfor (const volatile of volatilesToCopy) this.removeVolatile(volatile);\n\t\t\t\tfor (const volatile of volatilesToCopy) {\n\t\t\t\t\tif (pokemon.volatiles[volatile]) {\n\t\t\t\t\t\tthis.addVolatile(volatile);\n\t\t\t\t\t\tif (volatile === 'gmaxchistrike') this.volatiles[volatile].layers = pokemon.volatiles[volatile].layers;\n\t\t\t\t\t\tif (volatile === 'dragoncheer') this.volatiles[volatile].hasDragonType = pokemon.volatiles[volatile].hasDragonType;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (effect) {\n\t\t\t\tthis.battle.add('-transform', this, pokemon, '[from] ' + effect.fullname);\n\t\t\t} else {\n\t\t\t\tthis.battle.add('-transform', this, pokemon);\n\t\t\t}\n\t\t\tif (this.terastallized) {\n\t\t\t\tthis.knownType = true;\n\t\t\t\tthis.apparentType = this.terastallized;\n\t\t\t}\n\t\t\tif (this.battle.gen > 2) this.setAbility(pokemon.ability, this, null, true, true);\n\n\t\t\t// Change formes based on held items (for Transform)\n\t\t\t// Only ever relevant in Generation 4 since Generation 3 didn't have item-based forme changes\n\t\t\tif (this.battle.gen === 4) {\n\t\t\t\tif (this.species.num === 487) {\n\t\t\t\t\t// Giratina formes\n\t\t\t\t\tif (this.species.name === 'Giratina' && this.item === 'griseousorb') {\n\t\t\t\t\t\tthis.formeChange('Giratina-Origin');\n\t\t\t\t\t} else if (this.species.name === 'Giratina-Origin' && this.item !== 'griseousorb') {\n\t\t\t\t\t\tthis.formeChange('Giratina');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.species.num === 493) {\n\t\t\t\t\t// Arceus formes\n\t\t\t\t\tconst item = this.getItem();\n\t\t\t\t\tconst targetForme = (item?.onPlate ? 'Arceus-' + item.onPlate : 'Arceus');\n\t\t\t\t\tif (this.species.name !== targetForme) {\n\t\t\t\t\t\tthis.formeChange(targetForme);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Pokemon transformed into Ogerpon cannot Terastallize\n\t\t\t// restoring their ability to tera after they untransform is handled ELSEWHERE\n\t\t\tif (['Ogerpon', 'Terapagos'].includes(this.species.baseSpecies) && this.canTerastallize) this.canTerastallize = false;\n\n\t\t\tfor (const volatile in this.volatiles) {\n\t\t\t\tif (this.volatiles[volatile].inSlot && this.volatiles[volatile].inSlot === 'Move') {\n\t\t\t\t\tthis.removeVolatile(volatile);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (const volatile in pokemon.volatiles) {\n\t\t\t\tif (pokemon.volatiles[volatile].inSlot && pokemon.volatiles[volatile].inSlot === 'Move') {\n\t\t\t\t\tthis.addVolatile(volatile);\n\t\t\t\t\tthis.volatiles[volatile].inSlot = 'Move';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t},\n\t},\n\tfield: {\n\t\tsuppressingWeather() {\n\t\t\tfor (const pokemon of this.battle.getAllActive()) {\n\t\t\t\tconst innates = Object.keys(pokemon.volatiles).filter(x => x.startsWith('ability:'));\n\t\t\t\tif (pokemon && !pokemon.ignoringAbility() &&\n\t\t\t\t\t(pokemon.getAbility().suppressWeather || innates.some(x => (\n\t\t\t\t\t\tthis.battle.dex.abilities.get(x.replace('ability:', '')).suppressWeather\n\t\t\t\t\t)))) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t},\n};\n"],
  "mappings": "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",
  "names": []
}
